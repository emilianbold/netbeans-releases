<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
 *     	  Copyright © 2007 Sun Microsystems, Inc. All rights reserved. 
 *	  Use is subject to license terms.
-->
<html>
<head>
<meta name="lastupdated" content="4Jul07">
<!-- p2 -->

<title>Setting Page Character Encoding for a JSP File</title>
<link rel="stylesheet" href="nbdocs://org.netbeans.modules.usersguide/org/netbeans/modules/usersguide/ide.css" type="text/css">
</head>
<body>

<h2>Setting Page Character Encoding for a JSP File</h2>
<p><small> 
<a href="#seealso">See Also</a> 
</small></p> 
<p>Page character encoding is the encoding in which the JSP source file is written.
The JSP 2.0 specification distinguishes between two syntaxes when detecting 
the page character encoding:<ul><li>For files in standard JSP syntax, encoding is detected 
by looking at two primary sources of information: First in the deployment descriptor 
(the <tt>web.xml</tt> file) for a <tt>page-encoding</tt> element in a <tt>jsp-property-group</tt> whose URL 
pattern matches the file; then for a <tt>pageEncoding</tt> attribute in the page itself. 
If neither is present, the <tt>charset</tt> of a JSP file's <tt>contentType</tt> attribute is used,
or the ISO 8859-1 character encoding is used as the ultimate fallback.</li>
<li>For files in JSP document syntax, the encoding is detected as 
described in the XML specification; this means that UTF-8 is the 
default and any other encoding must be declared in the XML declaration at 
the beginning of the file.</li></ul>
<b>To set the page character encoding for a file in standard JSP syntax:</b>
<p>For JSP files (standard syntax), the page encoding is set as follows: </p>
<ol>
	<li><a href="jsp_create.html">Create a JSP file</a> that uses
	 standard JSP syntax. Right-click the JSP file and
choose Properties. Note that the Encoding property is set to UTF-8. This is the
 JSP file's page encoding. You cannot
 change the page encoding in the Properties sheet.

The place where you set the page encoding depends on whether you want to
set it for an individual JSP file or for a group of JSP files together. The
 following step guides you through the setting of the page encoding for JSP files.
</li>

<li>Do one of the following to change the JSP file's page encoding:
<ul>
<li><b>Set the page character encoding for an individual JSP file.</b> 
Double-click the JSP file so that it opens in the Source Editor. The 
default <tt>pageEncoding</tt> attribute of a JSP file created in the IDE is as follows:
<pre>  &lt;%@page pageEncoding="UTF-8"%&gt;</pre>
You can change the page encoding in the JSP file and save it. Note that
the IDE warns you if you try to save a character set that is not valid for JSP pages.
<p>Alternatively, set the page encoding in the <tt>contentType</tt> attribute
 of the <tt>page</tt> directive instead. The 
 default <tt>contentType</tt> attribute of a JSP file does not contain a <tt>charset</tt> value,
  because the <tt>pageEncoding</tt> attribute handles page encoding by default. 
  However, you can add a <tt>charset</tt> value as follows:
<pre>  &lt;%@page contentType="text/html;charset=UTF-8"%&gt;</pre></li>
  <li><b>Set the page character encoding for groups of JSP files.</b> 
Expand the Web Pages node, then the WEB-INF node, and then double-click the web.xml file. 
Click Pages at the top of the editor and then click the JSP Property Groups header to open 
the <a href="../../csh/graphic_editor/dd_multiview_pages_jspPropertyGroupsNode.html">JSP Property Groups section</a>. 
Use the JSP Property Groups section to add, remove, and 
view a web application's JSP property groups. A JSP property group is a set of properties 
defined for a group of JSP files within a web application. One of the properties you can
set here is the page encoding value for a group of JSP files.</li>
<table cellpadding="3" cellspacing="0" border="0">
   <tr valign="top">
      <td><img src="../../images/tip.gif" alt="tip">&nbsp;</td>
      
      <td>Only if the other two are absent is the <tt>contentType</tt> attribute of a JSP file's
	       <tt>page</tt> directive used as the page encoding.
If none of these are provided, utf-8 is used as the page encoding.
A translation-time error results if you define the page encoding with one value in the JSP 
property group and then give it a different value in an invidual JSP file's <tt>pageEncoding</tt> directive.</td>
   </tr>
</table>

</ol>

<b>To set the page character encoding for a file in JSP document syntax:</b>
<p>For JSP documents (XML syntax), the page encoding is set as follows:</p>
<ol>
	<li><a href="jsp_create.html">Create a JSP file</a> that uses XML syntax.
Right-click the JSP document and
choose Properties. Note that the Encoding property is set to UTF-8. This is the
 JSP document's page encoding. You cannot
 change the page encoding in the Properties sheet.
 For JSP documents, you can change the page character encoding in one place only:
 <ul><li>The <tt>encoding</tt> attribute of an XML declaration at the beginning
 of the file. The XML declaration is also known as the XML prolog.</li></ul>
<table cellpadding="3" cellspacing="0" border="0">
   <tr valign="top">
      <td><img src="../../images/tip.gif" alt="tip">&nbsp;</td>
      
      <td>
      The page encoding for JSP documents may also be <i>described 
      </i> in an individual JSP document's page directive or in a JSP property 
      group, as long as the values described there match the value derived from 
      the XML prolog. It is a translation-time error to specify different encodings 
      in the XML prolog and in the declarations in a JSP document or JSP property 
      group. If the XML prolog does not specify an encoding, the UTF-8 encoding 
      is derived instead.</td>
   </tr>
</table>
</li>
<li>Double-click the JSP file so that it opens in the Source Editor. The 
default XML declaration of a JSP document created in the IDE includes an
 encoding attribute as follows:
<pre>  &lt;?xml version="1.0" encoding="UTF-8"?&gt;</pre>
 You can change the encoding in the XML declaration and save the JSP document.</li></ol>

<dl>
    
<dt><a name="seealso">See Also</th> </tr> 
  <tr>
<td width="23"></td>
<td><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer">
         <param name="content" value="http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html">
         <param name="text" value="<html><u>Supported Encodings</u></html>">
         <param name="textFontSize" value="medium">
         <param name="textColor" value="blue">
</object><br>
<object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer">
         <param name="content" value="http://java.sun.com/j2ee/1.4/docs/tutorial/doc/WebI18N5.html">
	 <param name="text" value="<html><u>Character Sets and Encodings</u></html>">
         <param name="textFontSize" value="medium">
         <param name="textColor" value="blue">
</object><br>
<object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer">
         <param name="content" value="http://java.sun.com/developer/technicalArticles//Intl/MultilingualJSP/">
         <param name="text" value="<html><u>Developing Multilingual Web Applications Using JavaServer Pages Technology</u></html>">
         <param name="textFontSize" value="medium">
         <param name="textColor" value="blue">
</object>
</td>
</tr>
</table>



<hr>
<small><a href="../../../credits.html">Legal Notices</a></small> 
</body>
</html>
